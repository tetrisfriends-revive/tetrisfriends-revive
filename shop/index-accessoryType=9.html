<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
	    <!-- Tetris Friends Header META Data (_headMeta.inc) -->
		<title>Tetris Shop - Tetris Friends</title>
		<meta name="description" content="Customize your Tetris game experience at Tetris Friends Online Games." />
		<meta name="google-site-verification" content="PUFXUZk_dDxsvRXfLGX-iQW6nvA1O-T-FhN-G9mORJw" />
		<meta name="y_key" content="3282811995aadfa5" />
		<meta name="keywords" content="tetris, friends, online, games, free, official, authorized, play, simple, fun, flash, multiplayer, puzzle, alexey, pajitnov, live, tetrimino, t-spin, harddrop, freetetris, tetrislive, nintendo, gameboy, authentic, wii, ds, henk, " />
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta http-equiv="Content-Script-Type" content="text/javascript" />

		<!-- Tetris Friend Common Header (_head.inc) -->
		<!--[if IE]>
			<meta http-equiv="Pragma" content="no-cache" />
			<meta http-equiv="Expires" content="-1" />
		<![endif]-->
		<link rel="shortcut icon" href="../../data/images/favicon.ico" />
		<link rel='stylesheet' href='../../data/stylesheets/boxes.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/tetris.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/tool_tip.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/buttons.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/tabs.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/scrollable.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/friends.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/homepage.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/gamemenu.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/gallery.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/gamesPage.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/game_normal.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/game_results.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/game_scrollable.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/leaderboard.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/legal.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/profile.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/messages.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/missions.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/registration.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/shop.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/tetrishelp.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/tetristips_btns.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/tetristips.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/user_stats.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/popup.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/news.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/fb.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/sitemap.css' type='text/css' media='screen' />		<link rel='stylesheet' href='../../data/stylesheets/shadowbox.css' type='text/css' media='screen' />		<script type='text/javascript' src='../../data/javascripts/jquery-1.2.6.js' charset='utf-8'></script>		<script type='text/javascript' src='../../data/javascripts/jeditable.js' charset='utf-8'></script>		<script type='text/javascript' src='../../data/javascripts/jquery.cookie.js' charset='utf-8'></script>		<script type='text/javascript' src='../../data/javascripts/jquery.jpager.js' charset='utf-8'></script>		<script type='text/javascript' src='../../data/javascripts/shadowbox3/shadowbox.js' charset='utf-8'></script>		<script type='text/javascript' src='../../data/javascripts/tetrisfriends.js' charset='utf-8'></script>		<script type='text/javascript' src='../../data/javascripts/tools.scrollable-1.0.5.js' charset='utf-8'></script>		<script type='text/javascript' src='../../data/javascripts/swfobject.js' charset='utf-8'></script>		<script type='text/javascript' src='../../data/javascripts/unityobject.js' charset='utf-8'></script>		<script type='text/javascript' src='../../data/javascripts/AC_OETags.js' charset='utf-8'></script>		<script type='text/javascript' src='../../data/javascripts/detect.js' charset='utf-8'></script>		<script type='text/javascript' src='../../data/javascripts/ads.js' charset='utf-8'></script>		<script type='text/javascript' src='../../data/javascripts/fb.js' charset='utf-8'></script>		<script type='text/javascript' src='../../data/javascripts/jquery.xmldom-1.0.js' charset='utf-8'></script>		<script type='text/javascript' src='../../data/javascripts/jquery.qtip-1.0.0-rc3.js' charset='utf-8'></script>		<script type='text/javascript' src='../../data/javascripts/jquery.cycle.all.js' charset='utf-8'></script>		<script type='text/javascript'>
			shadowboxInit(true, false,'../../data/javascripts/shadowbox3/players/flvplayer4_3_1.swf');
		</script><script type='text/javascript'>	var AD_AKAMAI_PATH = '../../data';	var TOA_IS_LOGGED_IN = false;  var TF_UID = 0;</script>
		<script language="javascript" type="text/javascript">
			<!--
			var jsVersion = 10;
			-->
		</script>
		<script language="javascript1.1" type="text/javascript"> <script src="https://unpkg.com/@ruffle-rs/ruffle@0.1.0-nightly.2024.11.7/ruffle.js"></script>
		</script>
		<script language="javascript" type="text/javascript">
			<!--
			OAS_INIT('x72,x75', 'XE&amp;status=active&amp;ar=-1&amp;gg=-1&amp;us=0&amp;XE', 'home', jsVersion);
			checkGuest('75.87.161.207', 'tetrisfriends-revive.github.io', '/shop/index.php?accessoryType=9', '1381169664253');
			-->
		</script>


		<!--[if lt IE 7]>
			<link rel="stylesheet" href="../../data/stylesheets/extra/ie6_pngfix.css" type="text/css" media="screen" />
		<![endif]-->
		
 		<script type="text/javascript" src="http://connect.facebook.net/en_US/all.js"></script>
		<script type='text/javascript'>
					
			$(document).ready(function() {
				try {
					initFBConnect("116327968403965","","",false,false,"2af283afd78f85c6eebe351578798830","http://tetrisfriends-revive.github.io");
				} catch (ex) {
				} 
			});
		</script>



<script type='text/javascript' src='http://partner.googleadservices.com/gampad/google_service.js'></script>
<script type='text/javascript'>
	GS_googleAddAdSenseService("ca-pub-3122361475569593");
	GS_googleEnableAllServices();
</script>
<script type='text/javascript'>
	GA_googleAddSlot("ca-pub-3122361475569593", "TetrisFriends_OW_160x600_ROS_LS");
	GA_googleAddSlot("ca-pub-3122361475569593", "TetrisFriends_OW_160x600_ROS_RS");
	GA_googleAddSlot("ca-pub-3122361475569593", "TetrisFriends_OW_300x250_HP_RM");
	GA_googleAddSlot("ca-pub-3122361475569593", "TetrisFriends_OW_300x250_ROS_ATF");
	GA_googleAddSlot("ca-pub-3122361475569593", "TetrisFriends_OW_728x90_ROS_ATF");
	
	// The following ads are handled in /ads/google_dfp_results_ads.html
	//GA_googleAddSlot("ca-pub-3122361475569593", "TetrisFriends_OW_300x250_RESULTS_L");
	//GA_googleAddSlot("ca-pub-3122361475569593", "TetrisFriends_OW_300x250_RESULTS_M");
	//GA_googleAddSlot("ca-pub-3122361475569593", "TetrisFriends_OW_300x250_RESULTS_R");
</script>
<script type='text/javascript'>
	GA_googleFetchAds();
</script>








	    	</head>

	<body>
				<!-- Tetris Friends Top Navigation Bar (_topnav.inc) -->
		<div id='fb_notice' class='fb_notice'></div>
		<div id='tetris_token_notice' class='tetris_token_notice'></div>	
						

		<div id="header" class="tetris_header" style="z-index: 50">
			<div id="tetris_header_mouseover" class="tetris_header_mouseover"></div>
			<div class="tetris_friends_logo">
				<a href="/" title="Play Free Games at Tetris Friends"><h1>Tetris Friends</h1></a>
			</div>
			<div class="tetris_header_description tetris_hide_text">Online Games</div>
			<div class="tetris_games_counter">&nbsp;</div>
			<div class="tetris_top_nav">
				<ul>
					<li class="home"><a href="/" title="Return Home">Home</a></li>
					<li class="gamesPage"><a href="/games/index.php" title="Play Free Games">Tetris Games</a></li>
					<li class="profile"><a href="/users/profile.php?linkTag=nav" title="Visit Your Profile">My Profile</a></li>
					<li class="friends"><a href="/friends/index.php" title="Visit Your Tetris Friends List">Friends</a></li>
					<li class="shop"><a href="/shop/index.php" title="Customize Your Tetris Experience">Tetris Shop</a></li>
					<li class="missions"><a href="/missions/index.php" title="Challenge Yourself to Tetris Missions">Tetris Missions</a></li>
					<li class="community">
						<div class="tetris_sub_menu" onmouseover='$(this).addClass("tetris_sub_menu_hover");' onmouseout='$(this).removeClass("tetris_sub_menu_hover");'>
							<a href="javascript:void(0)" title="Be a part of the Tetris Community">Community</a>
							<ul class="tetris_sub_menu_items">
								<li class="leaderboard"><a href="/leaderboard/index.php" title="View the Tetris Leaderboards">Tetris Leaderboard</a></li>
								<li class="gallery"><a href="/gallery/index.php" title="View the Tetris Gallery">Tetris Gallery</a></li>
								<li class="news"><a href="/news/index.php" title="View Latest Tetris News">Tetris News</a></li>
							</ul>
						</div>
					</li>
					<li class="help"><a href="/help/tips.php" title="Learn Tetris Tips and Strategies">Tetris Tips</a></li>
				</ul>
				
				
				
			</div>
			<div class="tetris_login_area">
				<table>
					<tr>
						<td valign="top">
							<div class="fb_top_nav" style="">
   <a href="javascript:void(0)" class="fbconnect_login_button" onclick="fb_login()"></a>							</div>
						</td>
						<td valign="top">
							<a class="button button_small_grey button_small_grey_login" href="javascript:void(0)" onclick="fb_siteLogin()" title="Login">Login</a>
						</td>
						<td valign="top">
							<a class="button button_small_grey button_small_grey_register" href="http://tetrisfriends-revive.github.io/users/register.php?saveGame=true&linkTag=nav" title="Register">Sign-up</a>						</td>
						<td valign="top">
							<a class="button button_small_grey button_small_grey_help" href="/help/help.php" title="View the Help Section">Help</a>
						</td>
					</tr>
				</table>
			</div>
			<div class="tetris_login_form">
				<table>
					<tr>
						<td valign="top">
							<form action="/users/process.php" method="post">
								<table>
									<tr>
										<td>
											<input style="height: auto; border: 0;" type="checkbox" value="1" name="remember_me"/> Remember me</td>
										<td>
											<input type="hidden" name="login" value="1"></input>
										</td>
										<td>
											<input class="textfield idle" name="email" value="Enter e-mail address" onfocus="if (this.value == 'Enter e-mail address') { this.value = ''; var tl_pwd = document.getElementById('tetris_login_password'); if (tl_pwd.value == 'password') { tl_pwd.value = ''; } }"></input>
										</td>
										<td>
											<input id='tetris_login_password' class="textfield idle" name="password" type="password" value="password" onfocus="if (this.value == 'password') { this.value = ''; } "></input>
										</td>
										<td>
											<input class="button button_small_grey button_small_grey_login" type="submit" title="Login" value=""></input>
										</td>
										<td >
											<a class="button button_small_grey button_small_grey_x" href="javascript:void(0)" onclick="displayLoginForm(false)" title="Cancel">&nbsp;</a>
										</td>
									</tr>
								</table>
							</form>
						</td>
					</tr>
				</table>
			</div>
		</div>
		<div id="fb-root"></div>
		<div id="wrapper">
			<div id="container">
				<div id="home_custom_ad_container" class="home_custom_ad_container" align="center" style="height: auto; padding-bottom: 10px;">
				  	<div id="home_custom_ad_content" class="home_custom_ad_content">
						<script language="JavaScript" type="text/javascript">
							<!--
							OAS_AD("x75");
							-->
						</script>
					</div>
				</div>
				
				<h1 class='textcenter'>Tetris Friends Shop</h1>
				<div id='tetris_side_content' class='shop_side_content'>
					<div class='box_container'>
						<div class='box_top_border'>
							<div class='box_top_left'>&nbsp;</div>
							<div class='box_top_right'>&nbsp;</div>
						</div>
						<div class='box_left_border'>
							<div class='box_right_border'>
								<div class='box_content'>			
									<div id = 'shop_nav' class = 'shop_nav'>
										<div class='shop_nav_header'><p><strong>Select Item Categories</strong></p></div><div class='shop_nav_content'><ul id='shop_nav_items' class='shop_nav_items'><li id='shop_nav_featured' class='nav_btn shop_nav_featured'><a class='button' href='javascript:expandCategory("featured")'>Featured</a></li><li id='shop_nav_customize' class='nav_btn shop_nav_customize'><a class='button' href='javascript:expandCategory("customize")'>Customize</a></li><li id='shop_nav_customize_options' class='options' style='display:none;'><ul class='shop_nav_sub_items'><li class='nav_sub_btn shop_nav_mino'><a class='button' href='javascript:selectSubCategory("mino")'>Mino Styles</a></li><li class='nav_sub_btn shop_nav_ghost'><a class='button' href='javascript:selectSubCategory("ghost")'>Ghost Styles</a></li><li class='nav_sub_btn shop_nav_sfx'><a class='button' href='javascript:selectSubCategory("sfx")'>SFX Styles</a></li><li class='nav_sub_btn shop_nav_voice'><a class='button' href='javascript:selectSubCategory("voice")'>Voice Styles</a></li><li class='nav_sub_btn shop_nav_tweaks'><a class='button' href='javascript:selectSubCategory("tweaks")'>Game Tweaks</a></li></ul></li><li id='shop_nav_expressions' class='nav_btn shop_nav_expressions'><a class='button' href='javascript:expandCategory("expressions")'>Expressions</a></li><li id='shop_nav_expressions_options' class='options' style='display:none;'><ul class='shop_nav_sub_items'><li class='nav_sub_btn shop_nav_wingrafix'><a class='button' href='javascript:selectSubCategory("wingrafix")'>Win-Grafix</a></li><li class='nav_sub_btn shop_nav_wintone'><a class='button' href='javascript:selectSubCategory("wintone")'>Win-Tones</a></li></ul></li><li id='shop_nav_game' class='nav_btn shop_nav_game'><a class='button' href='javascript:expandCategory("game")'>Game Items</a></li><li id='shop_nav_game_options' class='options' style='display:none;'><ul class='shop_nav_sub_items'><li class='nav_sub_btn shop_nav_game_arena'><a class='button' href='javascript:selectSubCategory("game_arena")'>Tetris Arena</a></li></ul></li><li id='shop_nav_site' class='nav_btn shop_nav_site'><a class='button' href='javascript:expandCategory("site")'>Site</a></li></ul></div><script type='text/javascript'>
	var selectedSubNav = "featured";
	
	function expandCategory(inCategory)
	{
		var isCategoryOpen = (inCategory != "featured" && inCategory != "site" && $('#shop_nav_'+inCategory+'_options:visible').length > 0);
		//collapse previous category
		$('#shop_nav_items > li > a').removeClass("expanded");
		$('#shop_nav_items > li.options').hide();
		if (!isCategoryOpen)
		{
			if (inCategory == "featured" || inCategory == "site")
			{
				$('.shop_nav_sub_items > li > a').removeClass("selected");
				$('#shop_nav_items > li > a').removeClass("selected");
				$('#shop_nav_'+inCategory+' > a').addClass("selected");
			}
			else
			{
				$('#shop_nav_'+inCategory+' > a').addClass("expanded");
			}
			
			//expand new category
			if (inCategory == "customize")
			{
				$('#shop_nav_customize_options').show();
			}
			else if (inCategory == "expressions")
			{
				$('#shop_nav_expressions_options').show();
			}
			else if (inCategory == "game")
			{
				$('#shop_nav_game_options').show();
			}
			else if (inCategory == "featured" || inCategory == "site")
			{
				//reset shop page to 1
				shopPageNum = 1;
				
				selectedSubNav = inCategory;
				$('.shop_nav_sub_items > li > div').removeClass("selected");
				showItemContent();
			}
		}
	}
	function selectSubCategory(inSubCategory)
	{
		//reset shop page to 1
		shopPageNum = 1;
		if (inSubCategory != "featured" && inSubCategory != "site") {
			selectedSubNav = inSubCategory;
			$('#shop_nav_items > li > a').removeClass("selected");
			//remove previously selected sub catagory
			$('.shop_nav_sub_items > li > a').removeClass("selected");
			//select new category
			$('.shop_nav_sub_items > li.shop_nav_'+selectedSubNav+' > a').addClass("selected");
			showItemContent();
		}
	}
	function getNavSubName(inType)
	{
		var rc = "";
		if (inType == 0) {
			rc = "featured";
		} else if (inType == 1) {
			rc = "mino";
		} else if (inType == 2) {
			rc = "ghost";
		} else if (inType == 3) {
			rc = "sfx";
		} else if (inType == 4) {
			rc = "voice";
		} else if (inType == 5) {
			rc = "wintone";
		} else if (inType == 6) {
			rc = "wingrafix";
		} else if (inType == 7) {
			rc = "site";
		} else if (inType == 8) {
			rc = "game_arena";
		} else if (inType == 9) {
			rc = "tweaks";
		}
		return rc;
	}
</script>									</div>
								</div>
							</div>
						</div>
						<div class='box_bottom_border'>
							<div class='box_bottom_left'>&nbsp;</div>
							<div class='box_bottom_right'>&nbsp;</div>
						</div>
					</div>
					<div id='shop_mini_profile_box' class='shop_mini_profile_box boxContainer'>	<div class='box_top_border'>		<div class='box_top_left'>&nbsp;</div>		<div class='box_top_right'>&nbsp;</div>	</div>	<div class='box_left_border'>		<div class='box_right_border'>			<div class='box_content'><div id ='mini_profile' class = 'home_mini_profile home_signed_out shop_signed_out'><div id = 'home_main_info' class='home_main_info'><p class='home_first_info_field'>Welcome <strong>Guest</strong></p><p class='home_second_info_field'>		<script type=text/javascript>
		$(document).ready(function() {
		$('#home_profile_token_icon').qtip({
		show: { delay: 0 },
		content: '<span class=\"tooltip_content\">What are Tokens?<br />Click and find out!</span>',
		position: {
		corner: { tooltip: 'bottomRight', target: 'topMiddle' },
		adjust: { screen: true }
	},
	style: {
	width: 130,
	border: { width: 1, radius: 3, color: '#C0C0C0' },
	tip: { corner: 'bottomRight', color: '#C0C0C0', size: { x:20, y:10 }, centerColor:'#FFFFFF', border:1 }
						}
					});
				});
		</script><a class='tt' href='/help/help.php?linkTag=mp#help_section_tokens' tabindex='-1'><img src='../../data/images/token_icon.png' id='home_profile_token_icon' class='token_icon' border='0' alt='' /></a>&nbsp;Tokens: <strong id = 'mini_profile_points'>0</strong></p><div class='home_token_tooltip'>		<script type=text/javascript>
		$(document).ready(function() {
		$('#home_profile_token_help').qtip({
		show: { delay: 0 },
		content: '<span class=\"tooltip_content\">What are Tokens?<br />Click and find out!</span>',
		position: {
		corner: { tooltip: 'bottomRight', target: 'topMiddle' },
		adjust: { screen: true }
	},
	style: {
	width: 130,
	border: { width: 1, radius: 3, color: '#C0C0C0' },
	tip: { corner: 'bottomRight', color: '#C0C0C0', size: { x:20, y:10 }, centerColor:'#FFFFFF', border:1 }
						}
					});
				});
		</script><a class='tt' href='/help/help.php?linkTag=mp2#help_section_tokens' tabindex='-1'><img src='../../data/images/help.png' id='home_profile_token_help' class='home_profile_token_help' border='0' alt='' /></a></div><p class='home_third_info_field'>		<script type=text/javascript>
		$(document).ready(function() {
		$('#home_profile_ruby_icon').qtip({
		show: { delay: 0 },
		content: '<span class=\"tooltip_content\">What are Rubies?<br />Click and find out!</span>',
		position: {
		corner: { tooltip: 'bottomRight', target: 'topMiddle' },
		adjust: { screen: true }
	},
	style: {
	width: 130,
	border: { width: 1, radius: 3, color: '#C0C0C0' },
	tip: { corner: 'bottomRight', color: '#C0C0C0', size: { x:20, y:10 }, centerColor:'#FFFFFF', border:1 }
						}
					});
				});
		</script><a class='tt' href='/help/help.php?linkTag=mp#help_section_rubies' tabindex='-1'><img src='../../data/images/ruby_icon.png' id='home_profile_ruby_icon' class='ruby_icon' border='0' alt='' /></a>&nbsp;<a id='mini_profile_rubies_link' href='javascript:clickRubyLink(0)'>Rubies</a><strong>: </strong><strong id = 'mini_profile_rubies'>0</strong></p><div class='home_ruby_tooltip'>		<script type=text/javascript>
		$(document).ready(function() {
		$('#home_profile_ruby_help').qtip({
		show: { delay: 0 },
		content: '<span class=\"tooltip_content\">What are Rubies?<br />Click and find out!</span>',
		position: {
		corner: { tooltip: 'bottomRight', target: 'topMiddle' },
		adjust: { screen: true }
	},
	style: {
	width: 130,
	border: { width: 1, radius: 3, color: '#C0C0C0' },
	tip: { corner: 'bottomRight', color: '#C0C0C0', size: { x:20, y:10 }, centerColor:'#FFFFFF', border:1 }
						}
					});
				});
		</script><a class='tt' href='/help/help.php?linkTag=mp2#help_section_rubies' tabindex='-1'><img src='../../data/images/help.png' id='home_profile_ruby_help' class='home_profile_ruby_help' border='0' alt='' /></a></div><img border=0 class='shop_profile_avatar' src='../../data/images/avatars/0.gif' alt='Profile Pic'></img></div><div class='shop_notice_content box_red_content'><a href='http://tetrisfriends-revive.github.io/users/register.php?saveGame=true&linkTag=mp'>Sign up</a> to be able to purchase these cool items!</div></div>		    </div>	    </div>	</div>	<div class='box_bottom_border'>		<div class='box_bottom_left'>&nbsp;</div>		<div class='box_bottom_right'>&nbsp;</div>	</div></div><div class='clear'></div><script language="JavaScript" type="text/javascript">
	function clickRubyLink(inLifeRubies){
		if (parseInt(inLifeRubies) > 0) {
  			pageTracker._trackPageview('shop/ruby_purchase');
			popupBuyRuby();
		} else {
			pageTracker._trackPageview('shop/ruby_help_redirect');
			setTimeout('location.href = "/help/help.php?linkTag=mp2#help_section_rubies";', 250);
		}
	}
	function popupBuyRuby() {
				
		if (false) {
			// popUpBoxByUrl("/shop/_inc/_ruby_options.php", 650, 250, "", null);
			popUpBoxByUrl("/shop/_inc/_incentivized_ruby_options.php", 650, 250, "", null);
		} else {
			popUpBoxByUrl("/shop/shop_popup.php?rdir=/shop/index.php", 650, 640, "", null);
		}
	}


</script>				</div>
				
				<div id = 'tetris_main_content'>
					<div class='shop_box'>
						<div class='box_container'>
							<div class='box_top_border'>
								<div class='box_top_left'>&nbsp;</div>
								<div class='box_top_right'>&nbsp;</div>
							</div>
							<div class='box_left_border'>
								<div class='box_right_border'>
									<div class='box_content'>
										<div id ='shop_content' class ='shop_content'></div>
										<div id ='shop_item_detail' class='shop_item_detail'>
											<div class='shop_content_back'><a href='javascript:void(0)' onclick='showItemContent()'>Back to list</a></div>
											<div id='shop_details_view' class='shop_details_view'>
												
<script type='text/javascript'>
	var currIndex;
	var itemCount;
	var shopItems;
	var sfxIndex = 1;
	var winGrafixIndex = 0;
	var winGrafixPageIndex = 0;

	function ShopItem(inId, inType, inName, inView, inTypeNum, inWinGrafixId, inWinToneId)
	{
		this.view = inView;
		this.name = inName;
		this.id = inId;
		this.type = inType;
		this.typeNum = inTypeNum;
		this.winGrafixId = inWinGrafixId;
		this.winToneId = inWinToneId;
	}
	function showShopItem(inId, inDisplayType)
	{
		$("#shop_detail_area").load("/shop/ajax/"+inDisplayType+"_detail_view.php?id="+inId);
	}
	function getSoundFileName(inType, inId)
	{
		var rc;
		if (inType == 3)
		{
			previews = ["fx_lne01.mp3", "fx_lne02.mp3", "fx_lne03.mp3", "fx_lne04.mp3", "fx_tspin.mp3", "fx_win.mp3"];
			if (sfxIndex >= previews.length) {
				sfxIndex = 0;
			}
			rc = inId+"/"+previews[sfxIndex++];
		}
		else if (inType == 4)
		{
			previews = ["vo_lne02.mp3", "vo_lne03.mp3", "vo_tetrs.mp3", "vo_tspindouble.mp3", "vo_uwin.mp3", "vo_happy.mp3"];
			if (sfxIndex >= previews.length) {
				sfxIndex = 0;
			}
			rc = inId+"/"+previews[sfxIndex++];
		}
		else
		{
			rc = inId+".mp3";
		}
		return rc;
	}
	function getFilePath()
	{
		var filePath = "";
		var typePath = "";
		if (shopItems[currIndex].typeNum == 3) {
			typePath = "sfx";
		} else if (shopItems[currIndex].typeNum == 4) {
			typePath = "vox";
		} else if (shopItems[currIndex].typeNum == 5) {
			typePath = "wintone";
		}
		if (typePath != "") {
				fileName = getSoundFileName(shopItems[currIndex].typeNum, shopItems[currIndex].id);
				filePath = '../../data' + "/sounds/" + typePath + "/" + fileName;
		}
		return filePath;
	}
	//External calls from flash
	function js_previewLoaded() {
		$('#shop_detail_prev').attr({href: 'javascript:previousShopItem();'});
		$('#shop_detail_next').attr({href: 'javascript:nextShopItem();'});
	}
	function js_playSound() {
		if ($('#shop_preview_option:checked').length > 0 && shopItems[currIndex].typeNum == 5) {
			previewExpressionFlash(shopItems[currIndex].id, shopItems[currIndex].winGrafixId);
		} else if ($('#shop_preview_option:checked').length > 0 && shopItems[currIndex].typeNum == 6) {
			previewExpressionFlash(shopItems[currIndex].winToneId, shopItems[currIndex].id);
		}
		else if ($('#shop_preview_option:checked').length >= 0 && shopItems[currIndex].typeNum == 6) {
			previewExpressionFlash(0, shopItems[currIndex].id);
		}
	}
	function js_stoppedSound() {
		if (($('#shop_preview_option:checked').length > 0 && shopItems[currIndex].typeNum == 5) || shopItems[currIndex].typeNum == 6) {
			winGrafixPageIndex = 1;
			js_gameResultBgDone();
		}
		clearSoundFlash();
	}
	var volumeLevel;
	function js_volumeChanged(inVolume) {
		volumeLevel = inVolume;
		if ($('#expression_preview_flash_content:has(param)').length > 0) {
			document.getElementById("expression_preview_flash_content").as3_setVolume(volumeLevel);
		}
	}

	function checkboxClicked() {
		if (shopItems[currIndex].typeNum == 5) {
			if ($('#shop_preview_option:checked').length > 0) {
				setItemDetail(true, "expression");
			} else {
				setItemDetail(false, "");
			}
		}
	}
	
	function clearSoundFlash() {
		if ($('object#'+previewerId).length > 0) {
			var filePath = "";
			if (!(($('#shop_preview_option:checked').length > 0 && shopItems[currIndex].typeNum == 5) || shopItems[currIndex].typeNum == 6)) {
				filePath = getFilePath();
			}
			document.getElementById(previewerId).as3_changeSound(shopItems[currIndex].name, filePath);
		}
	}

	var expressionPreviewFlashHtml;

	function js_gameResultBgLoaded() {
		document.getElementById("expression_preview_flash_content").as3_startResultsAnimation();
		$('.expression_image').hide();
		if (navigator.appName.indexOf("Microsoft") != -1) {
			window[previewerId].as3_changeStatus(3);
		} else {
			document[previewerId].as3_changeStatus(3);
		}
	}

	function clearExpressionFlash() {
		$('.expression_preview_flash').html(expressionPreviewFlashHtml);
	}

	function js_gameResultBgDone() {
		if (winGrafixPageIndex == 0) {
			document.getElementById("expression_preview_flash_content").as3_showResultsAnimationPage2();
			winGrafixPageIndex++;
		} else {
			if (/Opera/i.test(navigator.userAgent)) {
				setTimeout("clearExpressionFlash()", 500);
			} else if (/Safari/i.test(navigator.userAgent)) {
				setTimeout("clearExpressionFlash()", 500);
			} else {
				clearExpressionFlash();
			}
			$('.expression_image').show();
			if (navigator.appName.indexOf("Microsoft") != -1) {
				window[previewerId].as3_changeStatus(1);
			} else {
				document[previewerId].as3_changeStatus(1);
			}
			winGrafixPageIndex = 0;
		}
	}
	function getWinGrafixPreviewType()
	{
		var rc;

		previews = ["1", "-1"];
		if (winGrafixIndex >= previews.length) {
			winGrafixIndex = 0;
		}
		rc = previews[winGrafixIndex++];

		return rc;
	}

	function previewExpressionFlash(inWinToneId, inWinGrafixId) {
				var names;
		var avatars;

		expressionPreviewFlashHtml = $('.expression_preview_flash').html();
		
		names = 'Opponent' + ',' + 'Opponent'
		avatars = '../../data/images/avatars/40X40/1.gif' + ',' + '../../data/images/avatars/40X40/1.gif'
		volume = volumeLevel;
		previewType = getWinGrafixPreviewType();
		
		flashVars = {
				productId: 100,
				winAnimId: inWinGrafixId == 6000? 0 : inWinGrafixId,
				winToneId: inWinToneId == 5000? 0: inWinToneId,
				names: names,
				avatars: avatars,
				resultType: previewType,
				starType: previewType,
				volume: volume
		      };
		var swfPath = '../../data'+"/images/winGrafix/OWResultsAnimation.swf";
		swfobject.embedSWF(swfPath, "expression_preview_flash_content", 659, 380, "9.0.0", {}, flashVars, {wmode: "opaque"}, {allowscriptaccess: "always"}, {id:"previewSwf", name:"previewSwf"});
	}
	
	function setupItemScroll(inItems, inCurrIndex)
	{
		var tmpItemArray;
		var tmpDetailArray;
		var tmpArrayLength;
		currIndex = inCurrIndex;
		shopItems = new Array();
		tmpItemArray = inItems.split("&");
		itemCount = tmpItemArray.length;
		for (var i=0; i<itemCount; i++)
		{
			tmpDetailArray = tmpItemArray[i].split(",");
			shopItems.push(new ShopItem(tmpDetailArray[0], tmpDetailArray[1], tmpDetailArray[2], 
					tmpDetailArray[3], tmpDetailArray[4], tmpDetailArray[5],
					tmpDetailArray[6]));
		}
	}
	function selectCurrAccessory(inIsGuest)
	{
		selectAccessory(shopItems[currIndex].id, shopItems[currIndex].type, inIsGuest);
	}

	var sArrowTimeout;
	function previousShopItem()
	{
		if (shopItems && shopItems.length > 0)
		{
			sfxIndex = 1;
			winGrafixIndex = 0;
			winGrafixPageIndex = 0;
			
			if (currIndex == 0)
			{
				currIndex = itemCount-1;
			}
			else
			{
				currIndex--;
			}
			$('#shop_detail_name').text(shopItems[currIndex].name);
			$('#shop_header_left').attr("class", "shop_"+shopItems[currIndex].type+"_header_left");
			$('#shop_header_center_left').attr("class", "shop_"+shopItems[currIndex].type+"_header_center_tile");
			$('#shop_header_name').attr("class", "shop_"+shopItems[currIndex].type+"_header_name");
			$('#shop_header_center_right').attr("class", "shop_"+shopItems[currIndex].type+"_header_center_tile");
			$('#shop_header_right').attr("class", "shop_"+shopItems[currIndex].type+"_header_right");
			if (sArrowTimeout) {
				clearTimeout(sArrowTimeout);
			} else {
				$('#shop_detail_area').html('');
				addLoadingAnimation("#shop_detail_area");
			}
			sArrowTimeout = setTimeout('setItemDetail(false, "")',800);
		}
	}
	function nextShopItem()
	{
		if (shopItems && shopItems.length > 0)
		{
			sfxIndex = 1;
			winGrafixIndex = 0;
			winGrafixPageIndex = 0;
			
			if (currIndex == itemCount-1)
			{
				currIndex = 0;
			}
			else
			{
				currIndex++;
			}
			$('#shop_detail_name').text(shopItems[currIndex].name);
			$('#shop_header_left').attr("class", "shop_"+shopItems[currIndex].type+"_header_left");
			$('#shop_header_center_left').attr("class", "shop_"+shopItems[currIndex].type+"_header_center_tile");
			$('#shop_header_name').attr("class", "shop_"+shopItems[currIndex].type+"_header_name");
			$('#shop_header_center_right').attr("class", "shop_"+shopItems[currIndex].type+"_header_center_tile");
			$('#shop_header_right').attr("class", "shop_"+shopItems[currIndex].type+"_header_right");
			if (sArrowTimeout) {
				clearTimeout(sArrowTimeout);
			} else {
				$('#shop_detail_area').html('');
				addLoadingAnimation("#shop_detail_area");
			}
			sArrowTimeout = setTimeout('setItemDetail(false, "")',800);
		}
	}
	function setItemDetail(inIsForceView, inView)
	{
		accessoryId = shopItems[currIndex].id;
		accessoryType = shopItems[currIndex].typeNum;
		var detailText;
		var view = shopItems[currIndex].view;
		if (inIsForceView) {
			view = inView;
		} else if (shopItems[currIndex].typeNum == 5 && $('#shop_preview_option:checked').length > 0) {
			view = "expression";
		}
		sArrowTimeout = null;
		showShopItem(accessoryId, view);
	}
	function renderShopFlash(inItemId, inItemType)
	{
		var flashVars = {
				profileId:-1,
				viewerId:-1,
				previewId:inItemId,
				previewType:inItemType
			};
		swfobject.embedSWF('../../data'+'/games/MyStyle/OWMyTetrisStyle.swf', "shopPreviewFlash", 340, 440, "9.0.0", {}, flashVars, {wmode: "opaque", scale: "noscale", salign: "tl"}, {allowscriptaccess: "always"}, {id:"shopPreviewFlash", name:"shopPreviewFlash"});
		$('#shop_detail_prev').removeAttr('href');
		$('#shop_detail_next').removeAttr('href');
	}
	var previewerId;
	
	function renderShopSound(inSessionId, inSoundPath, inVolume, inPreviewerId, inSoundName)
	{
		if (!volumeLevel) {
			volumeLevel = inVolume;
		} else {
			inSessionId = 0;
		}
		flashVars = {
				sessionId: inSessionId,
				volume: volumeLevel,
				useControls:true,
				soundPath:inSoundPath,
				soundName:inSoundName				
		      };
		previewerId = inPreviewerId;
		swfobject.embedSWF('../../data'+'/images/OWSoundPlayer.swf', inPreviewerId, 308, 52, "9.0.0", {}, flashVars, {wmode: "opaque"}, {allowscriptaccess: "always"}, {id:"shopSoundFlash", name:"shopSoundFlash"});
	}
</script>											</div>
										</div>
									</div>
								</div>
							</div>
							<div class='box_bottom_border'>
								<div class='box_bottom_left'>&nbsp;</div>
								<div class='box_bottom_right'>&nbsp;</div>
							</div>									
						</div>
					</div>
				</div>

				<div class='clear'></div>
				<br />

				
				<!-- Tetris Friends Footer SEO Data (_footerSEO.php) -->
				
				<!-- Bottom Navigation Bar (_bottomnav.inc) -->
				<div id="footer" class="tetris_footer">
					<div class="tetris_authentic_logo">
						<a href="http://www.tetris.com" title="Visit Tetris.com" target="_blank">Tetris</a>
					</div>
					<div class="tetris_copyright">
						<img width="585px" height="56px" src="../../data/images/bottom/copyright.png" alt="Tetris" />
					</div>
					<div class="tetris_bottom_nav">
						<ul>
							<li><a id="footerSupportLink" href="mailto:support@tetrisonline.com" title="Contact Support">support@tetrisonline.com</a></li>
							<li class="footerAboutListItem"><a href="http://www.tetrisonline.com" target="_blank">About Us</a></li>
							<li><a href="/sitemap/" target="_blank" title="View Tetris Friends Sitemap">Sitemap</a></li>
							<li class="last"><a href="/legal/tou.php" target="_blank" title="View Tetris Friends Terms of Use">Terms of Use</a></li>
						</ul>

						<span id="share">
							<a class="button button_small_grey button_small_grey_sharethissite" href="javascript:void(0)" onclick="displayShareThisPopup()">&nbsp;</a>
						</span>
					</div>
				</div>
				<div class="tetris_gradient_blue">&nbsp;</div><div class="tetris_gradient_purple">&nbsp;</div><div class="tetris_gradient_violet">&nbsp;</div><div class="tetris_gradient_red">&nbsp;</div>
				<div class="clear"></div>			</div> <!-- container -->
		</div> <!-- wrapper -->

				<br /><br />
array(25) {
  ["referrer"]=>
  string(15) "/shop/index.php"
  ["force_flash_login"]=>
  string(5) "false"
  ["current_product_id"]=>
  int(3)
  ["guestTokens"]=>
  int(0)
  ["guestId"]=>
  int(24180882)
  ["guest_sfx_id"]=>
  int(3000)
  ["guest_vox_id"]=>
  int(4001)
  ["guest_mino_id"]=>
  int(0)
  ["guest_ghost_id"]=>
  int(1)
  ["guest_wintone_id"]=>
  int(5000)
  ["guest_wingrafix_id"]=>
  int(6000)
  ["isIpChecked"]=>
  bool(true)
  ["actionToken"]=>
  string(32) "2af283afd78f85c6eebe351578798830"
  ["userAccessoryIds"]=>
  array(0) {
  }
  ["userMissionsIds"]=>
  array(0) {
  }
  ["userMissionsExpiredIds"]=>
  array(0) {
  }
  ["userMissionsActiveIds"]=>
  array(0) {
  }
  ["userMissionsBoughtIds"]=>
  array(0) {
  }
  ["userMissionsCompletedIds"]=>
  array(0) {
  }
  ["userMissionsUnlockedHiddenIds"]=>
  array(0) {
  }
  ["homepageTab"]=>
  string(5) "games"
  ["errors"]=>
  array(0) {
  }
  ["show_alternative_handles"]=>
  bool(false)
  ["preroll_secret_key"]=>
  int(63084901)
  ["bypassPreroll"]=>
  int(3)
}

		<!-- Common Page elements added just before the body tag is closed (_bodyend.inc) -->
		<!-- Start Google tag -->
		<script type="text/javascript">
			var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
			document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		</script>
		<script type="text/javascript">
			var pageTracker = _gat._getTracker("UA-886022-5");
			pageTracker._trackPageview();

					</script>
		<!-- End Google tag -->
		

		<script type="text/javascript">
			updateSupportLinks('Guest');		</script>
		
				<!-- Begin comScore Tag -->
		
		<script>
		    document.write(unescape("%3Cscript src='" + (document.location.protocol == "https:" ? "https://sb" : "http://b") + ".scorecardresearch.com/beacon.js' %3E%3C/script%3E"));
		</script>
		
		<script>
		  // obtain page location then remove http:// and PHP query params
		  var pageLocation = window.location.href;
		  pageLocation = pageLocation.replace(/http:\/\//, "");
		  pageLocation = pageLocation.split("?");
		  pageLocation = pageLocation[0];  
		
		  COMSCORE.beacon({
		    c1:2,
		    c2:5619092,
		    c3:"",
		    c4:pageLocation,
		    c5:"",
		    c6:"",
		    c15:""
		  });
		
		</script>
		
		<noscript>
		  <img src="http://b.scorecardresearch.com/b?c1=2&c2=5619092&c3=&c4=&c5=&c6=&c15=&cv=1.3&cj=1" style="display:none" width="0" height="0" alt="" />
		</noscript>
		
		<!-- End comScore Tag -->		
		<script type='text/javascript'>
		    // New status and CACHE TIMEOUTS are now in place, so we need to trigger
		    // this reload session more often... if in-game it will run indefinitely,
		    // if on any other page, it will stop after timeout specified below.
			var keepAliveMSEC = 30 * 1000; // half of cache timeout
			var keepAliveLimitMSEC = 900000; // 15 min timeout if not in-game
			var keepAliveCount = 0;
			var reloadIntervalId = -1;

		    
		    function startReloadSessionInterval() {
				reloadIntervalId = setInterval("triggerReloadSession()", keepAliveMSEC);
			}
	
			function stopReloadSessionInterval() {
				if (reloadIntervalId) {
					clearInterval(reloadIntervalId);
				}
			}
			
			function triggerReloadSession() {
				if (keepAliveLimitMSEC == -1 || (keepAliveCount < (keepAliveLimitMSEC/keepAliveMSEC))) {
					$.ajax({
						type: "GET",
						url: "/users/ajax/reload_session.php",
						dataType: "text",
						success: function(response){
							//alert("Response: " + response);
						}
					});
				} else {
					stopReloadSessionInterval();
				}
				keepAliveCount++;
			}

			$(document).ready(function() {
				fb_pushCommand(fb_showGuestUpsell);			});
		</script>
		<!-- TODO: Add any end-of-body code here! -->

		<script language="JavaScript" type="text/javascript">
			$("div.tetris_top_nav > ul > li.shop > a").addClass("selected");
		</script>
		<script type="text/javascript">
			var selectedNav = 'customize';
			var accessoryId = '-1';
			var accessoryType = '9';
			var shopPageNum = 1;
			var linkTag = '';

			function popupCurrentItem(inPriceId, inAccessoryId)
			{
				if ($('#shop_item_detail:visible').length > 0)
				{
					if (inAccessoryId && inAccessoryId != accessoryId)
					{
						accessoryId = inAccessoryId;
					}
					popUpStore(accessoryId, inPriceId);
				}
			}

			function updateShopPage(inPageNum) {
				shopPageNum = inPageNum;
			}

			function showItemDetails(inItemId, inItemType)
			{
				if (selectedNav == 0)
				{
					displayType = 0;
				}
				else
				{
					displayType = inItemType;
				}
				$('#shop_content').hide();
				$('#shop_item_detail').show();
				addLoadingAnimation('#shop_details_view');
				$('#shop_details_view').load('/shop/_inc/_shop_detail_view.php?id='+inItemId+'&view='+displayType+
						'&linkTag=' + linkTag, function() { removeLoadingAnimation('#shop_details_view'); });
				accessoryId = inItemId;
				accessoryType = inItemType;
			}

			function showItemContent()
			{
				$('#shop_content').show();
				$('#shop_item_detail').hide();
				addLoadingAnimation('#shop_content');
				$('#shop_content').load('/shop/ajax/shop_'+selectedSubNav+".php", function() { removeLoadingAnimation('#shop_content'); });
			}
			
			function refreshPage()
			{
				if ($('#shop_item_detail:visible').length > 0)
				{
					showItemDetails(accessoryId, accessoryType);
				}
				else
				{
					showItemContent();
				}
			}

			function popupCloseWait()
			{
				setTimeout('refreshPage()', 250);
			}

			function selectAccessory(inAccessoryId, inAccessoryType, isGuest)
			{
				if (isGuest==1) {
					var guestAccessoryType = inAccessoryType;
					if (inAccessoryType == 1)
					{
						guestAccessoryType = "guest_mino_id";
					}
					else if (inAccessoryType == 2)
					{
						guestAccessoryType = "guest_ghost_id";
					}
					else if (inAccessoryType == 3)
					{
						guestAccessoryType = "guest_sfx_id";
					}
					else if (inAccessoryType == 4 || inAccessoryType == "voice")
					{
						guestAccessoryType = "guest_vox_id";
					}
					else if (inAccessoryType == 5)
					{
						guestAccessoryType = "guest_wintone_id";
					}
					else if (inAccessoryType == 6)
					{
						guestAccessoryType = "guest_wingrafix_id";
					}
				url = "/users/ajax/guest_settings.php?" + guestAccessoryType+ "=" + inAccessoryId;
				} else {
					url = "/users/ajax/select_accessory.php?accessoryId=" + inAccessoryId;
				}
				
				$.get(url, refreshPage);
			}
			
			function popUpStore(accessoryId, priceId) {
				popUpBoxByUrl('/shop/shop_popup.php?rdir=/shop/index.php&accessoryId=' + accessoryId + '&priceId=' + priceId +
			  			'&linkTag=' + linkTag, 620, 540, "", popupCloseWait);
			}
			expandCategory(selectedNav);
			if (accessoryType != -1)
			{
				selectSubCategory(getNavSubName(accessoryType));
			}
			if (accessoryId != -1)
			{
				$('#shop_content').hide();
				$('#shop_item_detail').show();
			}			

					</script>		
	</body>
</html>